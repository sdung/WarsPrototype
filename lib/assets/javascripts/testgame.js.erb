// Initialize Phaser
var game = new Phaser.Game(480, 320, Phaser.AUTO, 'test_game_div');

//public vars
var box;
var clicked = false;
//created load state
var start_state = {
    preload: function () {
        this.game.stage.backgroundColor = '#00FF00';
        this.game.load.image('box', '<%= asset_path 'pipe.png' %>');
        this.game.load.image('selectedbox', '<%= asset_path 'selectedbox.png' %>');
    },

    

    //added label 
    create: function () {
        //label = game.add.text(game.width / 2, 300 , 'Press Space or Click to Begin', style);
        this.box = this.game.add.sprite(game.world.centerX, game.world.centerY, 'box');

        this.box.inputEnabled = true;

        var space_key = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
        space_key.onDown.add(this.select, this);


        this.box.events.onInputDown.add(this.select, this);

    },

    select: function() {
        
        if (clicked){
            this.box.loadTexture('box', 0);
            clicked = false;
        }else{
            this.box.loadTexture('selectedbox', 0);
            clicked = true;
        }
    },

    update: function () {
        //if (game.input.mousePointer.isDown)
         //   game.state.start('main');
    },

};

// Creates a new 'main' state that will contain the game
var main_state = {
    preload: function(){

    },

    create: function(){
        

    },

    update: function(){


    },



};

//creates game over state
var game_over_state = {
    //makes screen that sky blue color
    preload: function () {
        game.stage.backgroundColor = '#00FF00';
    },

    //added label
    create: function () {
        
    },

    update: function () {
        //checks if spacebar has been pressed if so start main game state (see bottom for game states)
       
    },

};

//game states
game.state.add('start', start_state);
game.state.add('main', main_state);
game.state.add('over', game_over_state);
game.state.start('start');




